/**
 * RTL (Right-to-Left) language support styles
 */

/* CSS Custom Properties for directional support */
:root {
  --text-direction: ltr;
  --start: left;
  --end: right;
}

[dir="rtl"] {
  --text-direction: rtl;
  --start: right;
  --end: left;
}

/* Base RTL styles */
[dir="rtl"] {
  direction: rtl;
  text-align: right;
}

[dir="rtl"] body {
  font-family: 'Segoe UI', 'Arial Unicode MS', Arial, sans-serif;
}

/* Layout adjustments for RTL */
[dir="rtl"] .flex-row {
  flex-direction: row-reverse;
}

[dir="rtl"] .space-x-2 > * + * {
  margin-left: 0;
  margin-right: 0.5rem;
}

[dir="rtl"] .space-x-3 > * + * {
  margin-left: 0;
  margin-right: 0.75rem;
}

[dir="rtl"] .space-x-4 > * + * {
  margin-left: 0;
  margin-right: 1rem;
}

/* Padding and margin adjustments */
[dir="rtl"] .pl-2 { padding-left: 0; padding-right: 0.5rem; }
[dir="rtl"] .pr-2 { padding-right: 0; padding-left: 0.5rem; }
[dir="rtl"] .pl-3 { padding-left: 0; padding-right: 0.75rem; }
[dir="rtl"] .pr-3 { padding-right: 0; padding-left: 0.75rem; }
[dir="rtl"] .pl-4 { padding-left: 0; padding-right: 1rem; }
[dir="rtl"] .pr-4 { padding-right: 0; padding-left: 1rem; }
[dir="rtl"] .pl-6 { padding-left: 0; padding-right: 1.5rem; }
[dir="rtl"] .pr-6 { padding-right: 0; padding-left: 1.5rem; }

[dir="rtl"] .ml-2 { margin-left: 0; margin-right: 0.5rem; }
[dir="rtl"] .mr-2 { margin-right: 0; margin-left: 0.5rem; }
[dir="rtl"] .ml-3 { margin-left: 0; margin-right: 0.75rem; }
[dir="rtl"] .mr-3 { margin-right: 0; margin-left: 0.75rem; }
[dir="rtl"] .ml-4 { margin-left: 0; margin-right: 1rem; }
[dir="rtl"] .mr-4 { margin-right: 0; margin-left: 1rem; }
[dir="rtl"] .ml-auto { margin-left: 0; margin-right: auto; }
[dir="rtl"] .mr-auto { margin-right: 0; margin-left: auto; }

/* Border radius adjustments */
[dir="rtl"] .rounded-l-lg { border-radius: 0 0.5rem 0.5rem 0; }
[dir="rtl"] .rounded-r-lg { border-radius: 0.5rem 0 0 0.5rem; }
[dir="rtl"] .rounded-tl-lg { border-radius: 0 0.5rem 0 0; }
[dir="rtl"] .rounded-tr-lg { border-radius: 0.5rem 0 0 0; }
[dir="rtl"] .rounded-bl-lg { border-radius: 0 0 0.5rem 0; }
[dir="rtl"] .rounded-br-lg { border-radius: 0 0 0 0.5rem; }

/* Text alignment */
[dir="rtl"] .text-left { text-align: right; }
[dir="rtl"] .text-right { text-align: left; }

/* Transform adjustments for icons */
[dir="rtl"] .transform-flip {
  transform: scaleX(-1);
}

/* Navigation arrows */
[dir="rtl"] .arrow-left::before {
  content: "→";
}

[dir="rtl"] .arrow-right::before {
  content: "←";
}

/* Dropdown positioning */
[dir="rtl"] .dropdown-left {
  left: auto;
  right: 0;
}

[dir="rtl"] .dropdown-right {
  right: auto;
  left: 0;
}

/* Form inputs and labels */
[dir="rtl"] .form-input {
  text-align: right;
  padding-left: 0.75rem;
  padding-right: 2.5rem;
}

[dir="rtl"] .form-input[type="search"] {
  padding-left: 2.5rem;
  padding-right: 0.75rem;
}

[dir="rtl"] .form-label {
  text-align: right;
}

/* Pattern canvas adjustments */
[dir="rtl"] .pattern-canvas {
  direction: ltr; /* Keep pattern display LTR for consistency */
}

[dir="rtl"] .pattern-canvas .pattern-cell {
  direction: ltr;
}

/* Breadcrumb navigation */
[dir="rtl"] .breadcrumb {
  flex-direction: row-reverse;
}

[dir="rtl"] .breadcrumb-separator {
  transform: scaleX(-1);
}

/* Toast notifications */
[dir="rtl"] .toast {
  right: auto;
  left: 1rem;
}

[dir="rtl"] .toast-close {
  right: auto;
  left: 0.5rem;
}

/* Modal positioning */
[dir="rtl"] .modal-close {
  right: auto;
  left: 1rem;
}

/* Tab navigation */
[dir="rtl"] .tab-list {
  flex-direction: row-reverse;
}

/* Timeline components */
[dir="rtl"] .timeline {
  border-left: none;
  border-right: 2px solid #e5e7eb;
  padding-left: 0;
  padding-right: 1rem;
}

[dir="rtl"] .timeline-item {
  padding-left: 0;
  padding-right: 1rem;
}

[dir="rtl"] .timeline-dot {
  left: auto;
  right: -0.375rem;
}

/* Language-specific font adjustments */
[dir="rtl"][lang="ar"] {
  font-family: 'Noto Sans Arabic', 'Arial Unicode MS', Arial, sans-serif;
  line-height: 1.6;
}

[dir="rtl"][lang="he"] {
  font-family: 'Noto Sans Hebrew', 'Arial Unicode MS', Arial, sans-serif;
  line-height: 1.5;
}

/* Utility classes for RTL */
.rtl-flip {
  direction: rtl;
}

.ltr-force {
  direction: ltr !important;
  text-align: left !important;
}

.rtl-text {
  text-align: right;
}

.ltr-text {
  text-align: left;
}

/* Animation adjustments for RTL */
[dir="rtl"] .slide-in-right {
  animation: slideInLeft 0.3s ease-out;
}

[dir="rtl"] .slide-in-left {
  animation: slideInRight 0.3s ease-out;
}

[dir="rtl"] .slide-out-right {
  animation: slideOutLeft 0.3s ease-in;
}

[dir="rtl"] .slide-out-left {
  animation: slideOutRight 0.3s ease-in;
}

/* Icon adjustments */
[dir="rtl"] .icon-chevron-left {
  transform: rotate(180deg);
}

[dir="rtl"] .icon-chevron-right {
  transform: rotate(180deg);
}

[dir="rtl"] .icon-arrow-left {
  transform: rotate(180deg);
}

[dir="rtl"] .icon-arrow-right {
  transform: rotate(180deg);
}

/* Grid and layout adjustments */
[dir="rtl"] .grid-flow-col {
  grid-auto-flow: column reverse;
}

/* Number and date inputs - keep LTR for consistency */
[dir="rtl"] input[type="number"],
[dir="rtl"] input[type="date"],
[dir="rtl"] input[type="time"],
[dir="rtl"] input[type="datetime-local"] {
  direction: ltr;
  text-align: left;
}

/* Code blocks and technical content - keep LTR */
[dir="rtl"] code,
[dir="rtl"] pre,
[dir="rtl"] .code-block {
  direction: ltr;
  text-align: left;
}

/* Email addresses and URLs - keep LTR */
[dir="rtl"] .email,
[dir="rtl"] .url,
[dir="rtl"] input[type="email"],
[dir="rtl"] input[type="url"] {
  direction: ltr;
  text-align: left;
}

/* Responsive RTL adjustments */
@media (max-width: 768px) {
  [dir="rtl"] .mobile-menu {
    right: auto;
    left: 0;
  }
  
  [dir="rtl"] .mobile-close {
    right: auto;
    left: 1rem;
  }
}

/* Print styles for RTL */
@media print {
  [dir="rtl"] {
    direction: rtl;
  }
  
  [dir="rtl"] .print-ltr {
    direction: ltr;
    text-align: left;
  }
}

/* High contrast mode adjustments for RTL */
@media (prefers-contrast: high) {
  [dir="rtl"] .border-l {
    border-left: none;
    border-right: 1px solid;
  }
  
  [dir="rtl"] .border-r {
    border-right: none;
    border-left: 1px solid;
  }
}

/* Dark mode RTL adjustments */
@media (prefers-color-scheme: dark) {
  [dir="rtl"] .dark-mode-shadow {
    box-shadow: -0.25rem 0 0.5rem rgba(0, 0, 0, 0.3);
  }
}